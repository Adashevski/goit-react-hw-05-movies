{"version":3,"file":"static/js/193.abdd41e5.chunk.js","mappings":"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","sources":["components/Loader/Loader.jsx","webpack://react-homework-template/./src/pages/MoviePage/MoviePage.module.css?f915","webpack://react-homework-template/./src/components/MovieDetails/MovieDetails.module.css?9ca9","components/MovieDetails/MovieDetails.jsx","pages/MoviePage/MoviePage.jsx","services/api.js","services/utils.js"],"sourcesContent":["import { RotatingLines } from 'react-loader-spinner';\n\nexport const Loader = () => {\n  return (\n    <RotatingLines\n      strokeColor=\"grey\"\n      strokeWidth=\"5\"\n      animationDuration=\"0.75\"\n      width=\"96\"\n      visible={true}\n    />\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MoviePage_container__ihf5v\",\"backLink\":\"MoviePage_backLink__cPE0q\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieDetails_container__o8VqJ\",\"infoBox\":\"MovieDetails_infoBox__NxlKg\",\"poster\":\"MovieDetails_poster__Gw9Qy\",\"info\":\"MovieDetails_info__0TKY1\",\"subNav\":\"MovieDetails_subNav__JR-s8\",\"subNavLink\":\"MovieDetails_subNavLink__Vu-Y8\"};","import { Suspense } from 'react';\nimport { NavLink, Outlet } from 'react-router-dom';\nimport styles from './MovieDetails.module.css';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst StyledLink = styled(NavLink)`\n  display: block;\n  padding: 4px 15px;\n  border-radius: 5px;\n  font-size: 13px;\n  color: white;\n  text-align: center;\n  text-decoration: none;\n  background-color: rgb(23, 156, 68);\n\n  &.active,\n  &:hover,\n  &:focus {\n    background-color: rgb(95, 145, 199);\n  }\n`;\n\nexport const MovieDetails = ({\n  title,\n  poster,\n  year,\n  score,\n  overview,\n  genres,\n  movieId,\n}) => {\n  return (\n    <div className={styles.container}>\n      <div className={styles.infoBox}>\n        <img className={styles.poster} src={poster} alt={`${title} poster`} />\n        <div className={styles.info}>\n          <h1>\n            {title} {year && `(${year})`}\n          </h1>\n          <p>User score: {Math.round(score * 10)}%</p>\n          <h2>Overview:</h2>\n          <p>{overview}</p>\n          <h2>Genres:</h2>\n          <p>{genres}</p>\n        </div>\n      </div>\n      <div>\n        <h3>Additional information:</h3>\n        <ul className={styles.subNav}>\n          <li>\n            <StyledLink className={styles.subNavLink} to={`cast`}>\n              Cast\n            </StyledLink>\n          </li>\n          <li>\n            <StyledLink className={styles.subNavLink} to={`reviews`}>\n              Reviews\n            </StyledLink>\n          </li>\n        </ul>\n      </div>\n      <div>\n        <Suspense fallback={<div>Loading...</div>}>\n          <Outlet />\n        </Suspense>\n      </div>\n    </div>\n  );\n};\n\nMovieDetails.propTypes = {\n  title: PropTypes.string.isRequired,\n  poster: PropTypes.string.isRequired,\n  year: PropTypes.string,\n  score: PropTypes.number.isRequired,\n  overview: PropTypes.string.isRequired,\n  genres: PropTypes.string.isRequired,\n  movieId: PropTypes.string.isRequired,\n};\n","import styles from './MoviePage.module.css';\nimport { useEffect, useState } from 'react';\nimport { Link, useLocation, useParams } from 'react-router-dom';\nimport { getMovieInfo } from 'services/api';\nimport { MovieDetails } from '../../components/MovieDetails/MovieDetails';\nimport { Loader } from 'components/Loader/Loader';\nimport { IMG_PLACEHOLDER } from 'services/utils';\n\nconst MoviePage = () => {\n  const location = useLocation();\n  const [backLocation, setBackLocation] = useState('/');\n  const [title, setTitle] = useState('');\n  const [year, setYear] = useState(null);\n  const [score, setScore] = useState(0);\n  const [overview, setOverview] = useState(\n    `This movie doesn't have a plot outline yet.`\n  );\n  const [poster, setPoster] = useState(IMG_PLACEHOLDER);\n  const [genres, setGenres] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const { movieId } = useParams();\n\n  const getMovieDetail = async id => {\n    setIsLoading(true);\n    const movie = await getMovieInfo(id);\n    setTitle(movie.data.title);\n    if (movie.data.release_date !== '') {\n      setYear(new Date(movie.data.release_date).getFullYear().toString());\n    }\n    setScore(movie.data.vote_average);\n    if (movie.data.overview !== '') {\n      setOverview(movie.data.overview);\n    }\n    if (movie.data.poster_path) {\n      setPoster(`https://image.tmdb.org/t/p/w500${movie.data.poster_path}`);\n    }\n\n    let movieGenre = [];\n    movie.data.genres.map(genre => {\n      movieGenre = [...movieGenre, genre.name];\n      return setGenres(movieGenre.join(' '));\n    });\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    getMovieDetail(movieId);\n  }, [movieId]);\n\n  useEffect(() => {\n    setBackLocation(location.state?.from ?? '/');\n    // eslint-disable-next-line\n  }, []);\n  return (\n    <div className={styles.container}>\n      <Link className={styles.backLink} to={backLocation}>\n        Go back\n      </Link>\n      <MovieDetails\n        title={title}\n        poster={poster}\n        year={year}\n        score={score}\n        overview={overview}\n        genres={genres}\n        movieId={movieId}\n      />\n      {isLoading && <Loader />}\n    </div>\n  );\n};\n\nexport default MoviePage;\n","import axios from 'axios';\nimport { API_KEY } from './utils';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nconst getTrending = async () => {\n  const response = axios.get(`trending/movie/day?api_key=${API_KEY}`);\n  return response;\n};\n\nconst getMovieInfo = async id => {\n  const response = axios.get(`movie/${id}?api_key=${API_KEY}&language=en-US`);\n  return response;\n};\n\nconst getMovieReviews = async (id, page = 1) => {\n  const response = axios.get(\n    `movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=${page}`\n  );\n  return response;\n};\n\nconst getMovieCast = async id => {\n  const response = axios.get(\n    `movie/${id}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return response;\n};\n\nconst searchMovie = async query => {\n  const response = axios.get(\n    `search/movie?api_key=${API_KEY}&language=en-US&query=${query}&include_adult=false`\n  );\n  return response;\n};\n\nexport {\n  getTrending,\n  getMovieInfo,\n  getMovieReviews,\n  getMovieCast,\n  searchMovie,\n};\n","export const API_KEY = '330fed723c91519f30cbe5ad45b50ac2';\nexport const IMG_PLACEHOLDER =\n  'https://previews.123rf.com/images/viktorijareut/viktorijareut1905/viktorijareut190500747/123236861-default-avatar-profile-icon-grey-photo-placeholder.jpg';\n"],"names":["Loader","strokeColor","strokeWidth","animationDuration","width","visible","StyledLink","styled","NavLink","MovieDetails","title","poster","year","score","overview","genres","movieId","className","styles","src","alt","Math","round","to","Suspense","fallback","location","useLocation","useState","backLocation","setBackLocation","setTitle","setYear","setScore","setOverview","IMG_PLACEHOLDER","setPoster","setGenres","isLoading","setIsLoading","useParams","getMovieDetail","id","getMovieInfo","movie","data","release_date","Date","getFullYear","toString","vote_average","poster_path","movieGenre","map","genre","name","join","useEffect","state","from","axios","getTrending","response","API_KEY","getMovieReviews","page","getMovieCast","searchMovie","query"],"sourceRoot":""}